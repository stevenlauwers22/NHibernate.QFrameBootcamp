<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"
									 assembly="NHibernateCourse.Demo7"
									 namespace="NHibernateCourse.Demo7.Domain">

	<class name="Customer" dynamic-update="true">
		<id name="Id" access="field.camelcase-underscore">
			<generator class="guid.comb"/>
		</id>
    
		<property name="Name"/>

    <component name="BillingAddress">
      <property name="Street" column="BillingAddressStreet"/>
      <property name="City" column="BillingAddressCity"/>
      <property name="Country" column="BillingAddressCountry"/>
    </component>
    
    <component name="ShippingAddress">
      <property name="Street" column="ShippingAddressStreet"/>
      <property name="City" column="ShippingAddressCity"/>
      <property name="Country" column="ShippingAddressCountry"/>
    </component>

    <component name="LegalAddress">
      <property name="Street" column="LegalAddressStreet"/>
      <property name="City" column="LegalAddressCity"/>
      <property name="Country" column="LegalAddressCountry"/>
    </component>

    <component name="AuditingInfo">
      <property name="CreatedBy"/>
      <property name="CreatedOn"/>
      <property name="UpdatedBy"/>
      <property name="UpdatedOn"/>
    </component>
    
    <set name="Orders" table="Order" cascade="all-delete-orphan" inverse="true" access="field.camelcase-underscore">
      <key column="CustomerId" />
      <one-to-many class="Order" />
    </set>
	</class>

</hibernate-mapping>